<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸŽ¸</text></svg>">
  <title data-i18n="tool_visual_tab_title">Visual Tab Player</title>

  <link rel="stylesheet" href="./visual-tab.css">
</head>
<body>
  <a href="../../index.html" class="back-button" aria-label="Back to Home" data-route="home">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M19 12H5M12 19l-7-7 7-7"/>
    </svg>
  </a>

  <div class="app">
    <div class="lang-selector">
      <label style="display: flex; align-items: center; gap: 8px; margin-right: 10px; cursor: pointer; color: var(--text);">
        <input type="checkbox" id="showChordsCheckbox" checked>
        <span data-i18n="show_chords">Show Chords</span>
      </label>
      <select id="notationSelect">
        <option value="english">English (C, D, E)</option>
        <option value="latin">Latin (Do, Re, Mi)</option>
      </select>
    </div>

    <h1 data-i18n="tool_visual_tab_title">Visual Tab Player</h1>
    <p class="subtitle" data-i18n="tool_visual_tab_desc">Visualize your favorite tabs in a new way.</p>

    <div class="selection-container" id="selection-container">
      <div class="search-area">
        <input
          id="songsterr-search"
          type="text"
          placeholder="Search on Songsterr..."
          autocomplete="off"
        />
        <div id="search-results" class="search-results"></div>
      </div>

      <div id="accordion-container">
        <div class="loading-spinner" data-i18n="loading">Loading tabs...</div>
      </div>
    </div>

    <div class="player-container" id="player-container" style="display: none;">
      <div class="player-header">
        <button id="back-to-selection" class="secondary-btn">
          <span class="material-icons">arrow_back</span> <span data-i18n="back_to_list">Back to List</span>
        </button>
        <div class="song-info">
          <h2 id="current-song-title">Song Title</h2>
          <p id="current-artist-name">Artist Name</p>
        </div>
        <button id="play-tab-btn" class="secondary-btn" type="button">
          <span class="material-icons" aria-hidden="true">play_arrow</span>
          <span class="play-label" data-i18n="play_tab">Play</span>
        </button>
      </div>
      
      <div class="canvas-wrapper">
        <canvas id="tab-canvas"></canvas>
      </div>
      
      <div class="controls-bar">
        <!-- Future controls like play/pause could go here -->
        <div class="legend">
          <span class="legend-item"><span class="legend-color note"></span> <span data-i18n="legend_note">Note</span></span>
          <span class="legend-item"><span class="legend-color chord"></span> <span data-i18n="legend_chord">Chord</span></span>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="../../js/shared/play-tab.js"></script>
  <script src="./visual-tab.js"></script>
</body>
</html>
